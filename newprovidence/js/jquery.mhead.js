!function(t,i){"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof exports?module.exports=i(require("jquery")):t.jquery_mhead_js=i(t.jQuery)}(this,function(t){return!function(t){function i(){t[n].glbl||(h={$wndw:t(window),$docu:t(document),$html:t("html"),$body:t("body")},o={},r={},e={},t.each([o,r,e],function(t,i){i.add=function(t){t=t.split(" ");for(var n=0,s=t.length;n<s;n++)i[t[n]]=i.mh(t[n])}}),o.mh=function(t){return"mh-"+t},o.add("head sticky scrolledout align btns list hamburger"),o.umh=function(t){return"mh-"==t.slice(0,3)&&(t=t.slice(3)),t},r.mh=function(t){return"mh-"+t},e.mh=function(t){return t+".mh"},e.add("scroll click"),t[n]._c=o,t[n]._d=r,t[n]._e=e,t[n].glbl=h)}var n="mhead",s="1.0.2";if(!(t[n]&&t[n].version>s)){t[n]=function(t,i,n){return this.$head=t,this.opts=i,this.conf=n,this._initButtons(),this._initList(),this._initHamburger(),this._initScroll(),this},t[n].version=s,t[n].defaults={scroll:{hide:0,show:0,tolerance:4},hamburger:{menu:null,animation:"collapse"}},t[n].configuration={initButtons:!0,initList:!0,initHamburger:!0,initScroll:!0},t[n].prototype={_initButtons:function(){if(!this.conf.initButtons)return this;var t=!1,i={left:0,right:0},n=0,s=0;for(var r in i)t=t||this.$head.hasClass(o.align+"-"+r),(n=this.$head.children("."+o.btns+"-"+r).children().length)&&(s=Math.max(n,s),i[r]=n);if(!t)for(var r in i)i[r]=s;for(var r in i)if(i[r]){var e=o.btns+"-"+r;i[r]>1&&(e+="-"+i[r]),this.$head.addClass(e)}return this},_initList:function(){return this.conf.initList?void this.$head.find("."+o.list).each(function(){t(this).children().appendTo(this)}):this},_initScroll:function(){if(!this.conf.initScroll)return this;if(!this.opts.scroll||this.opts.scroll.hide===!1)return this;this.$head.hasClass(o.sticky)||this.$head.addClass(o.sticky);var t=this,i=0,n=null,s=this.$head.offset().top+this.$head.outerHeight();return this.opts.scroll.hide=Math.max(s,this.opts.scroll.hide||0),this.opts.scroll.show=Math.max(s,this.opts.scroll.show||0),h.$wndw.on(e.scroll,function(){var s=h.$wndw.scrollTop(),r=i-s,e=r<0?"down":"up";r=Math.abs(r),i=s,null===n&&(n=s>t.opts.scroll.show),n?"up"==e&&(s<t.opts.scroll.show||r>t.opts.scroll.tolerance)&&(n=!1,t.$head.removeClass(o.scrolledout)):"down"==e&&s>t.opts.scroll.hide&&r>t.opts.scroll.tolerance&&(n=!0,t.$head.addClass(o.scrolledout))}).trigger(e.scroll),this},_initHamburger:function(){if(!this.conf.initHamburger)return this;var i=this.$head.find("."+o.hamburger);if(i.length){var n=this;return i.each(function(){var i=t(this),s=t('<button class="hamburger"><span class="hamburger-box"><span class="hamburger-inner"></span></span></button>'),o=i.attr("href");i.replaceWith(s),s.addClass("hamburger--"+n.opts.hamburger.animation);for(var r=t(),h=[o,n.opts.hamburger.menu,".mm-menu"],a=0;a<h.length;a++)if(h[a]&&(r=t(h[a]),r.length&&r.is(".mm-menu"))){r=r.first();break}var l=r.data("mmenu");s.on(e.click,function(){l.open()}),l.bind("open:finish",function(){setTimeout(function(){s.addClass("is-active")},100)}),l.bind("close:finish",function(){setTimeout(function(){s.removeClass("is-active")},100)})}),this}}},t.fn[n]=function(s,o){return i(),s=t.extend(!0,{},t[n].defaults,s),o=t.extend(!0,{},t[n].configuration,o),this.each(function(){var i=t(this);if(!i.data(n)){var r=new t[n](i,s,o);i.data(n,r)}})},t[n].support={touch:"ontouchstart"in window||navigator.msMaxTouchPoints||!1};var o,r,e,h}}(t),!0});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5taGVhZC5qcyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwianF1ZXJ5X21oZWFkX2pzIiwialF1ZXJ5IiwidGhpcyIsInQiLCJpIiwibiIsImdsYmwiLCJhIiwiJHduZHciLCJ3aW5kb3ciLCIkZG9jdSIsImRvY3VtZW50IiwiJGh0bWwiLCIkYm9keSIsIm8iLCJyIiwiaCIsImVhY2giLCJhZGQiLCJzcGxpdCIsInMiLCJsZW5ndGgiLCJtaCIsInVtaCIsInNsaWNlIiwiX2MiLCJfZCIsIl9lIiwidmVyc2lvbiIsIiRoZWFkIiwib3B0cyIsImNvbmYiLCJfaW5pdEJ1dHRvbnMiLCJfaW5pdExpc3QiLCJfaW5pdEhhbWJ1cmdlciIsIl9pbml0U2Nyb2xsIiwiZGVmYXVsdHMiLCJzY3JvbGwiLCJoaWRlIiwic2hvdyIsInRvbGVyYW5jZSIsImhhbWJ1cmdlciIsIm1lbnUiLCJhbmltYXRpb24iLCJjb25maWd1cmF0aW9uIiwiaW5pdEJ1dHRvbnMiLCJpbml0TGlzdCIsImluaXRIYW1idXJnZXIiLCJpbml0U2Nyb2xsIiwicHJvdG90eXBlIiwibGVmdCIsInJpZ2h0IiwiaGFzQ2xhc3MiLCJhbGlnbiIsImNoaWxkcmVuIiwiYnRucyIsIk1hdGgiLCJtYXgiLCJhZGRDbGFzcyIsImZpbmQiLCJsaXN0IiwiYXBwZW5kVG8iLCJzdGlja3kiLCJvZmZzZXQiLCJ0b3AiLCJvdXRlckhlaWdodCIsIm9uIiwic2Nyb2xsVG9wIiwiYWJzIiwicmVtb3ZlQ2xhc3MiLCJzY3JvbGxlZG91dCIsInRyaWdnZXIiLCJhdHRyIiwicmVwbGFjZVdpdGgiLCJlIiwiaXMiLCJmaXJzdCIsImwiLCJkYXRhIiwiY2xpY2siLCJvcGVuIiwiYmluZCIsInNldFRpbWVvdXQiLCJmbiIsImV4dGVuZCIsInN1cHBvcnQiLCJ0b3VjaCIsIm5hdmlnYXRvciIsIm1zTWF4VG91Y2hQb2ludHMiXSwi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TixHQUFHLE1BQU9WLEtBQUlnQixFQUFFakIsRUFBRWlGLFFBQU8sS0FBTWpGLEVBQUVFLEdBQUcrQixTQUFTaEIsR0FBR04sRUFBRVgsRUFBRWlGLFFBQU8sS0FBTWpGLEVBQUVFLEdBQUd1QyxjQUFjOUIsR0FBR1osS0FBS2UsS0FBSyxXQUFXLEdBQUliLEdBQUVELEVBQUVELEtBQU0sS0FBSUUsRUFBRTBFLEtBQUt6RSxHQUFHLENBQUMsR0FBSVUsR0FBRSxHQUFJWixHQUFFRSxHQUFHRCxFQUFFZ0IsRUFBRU4sRUFBR1YsR0FBRTBFLEtBQUt6RSxFQUFFVSxPQUFPWixFQUFFRSxHQUFHZ0YsU0FBU0MsTUFBTSxnQkFBaUI3RSxTQUFROEUsVUFBVUMsbUJBQWtCLEVBQUksSUFBSTFFLEdBQUVDLEVBQUVDLEVBQUVULElBQUlOLElBQ3RvRyIsImZpbGUiOiJqcXVlcnkubWhlYWQuanMiLCJzb3VyY2VzQ29udGVudCI6WyI7KGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbJ2pxdWVyeSddLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnanF1ZXJ5JykpO1xuICB9IGVsc2Uge1xuICAgIHJvb3QuanF1ZXJ5X21oZWFkX2pzID0gZmFjdG9yeShyb290LmpRdWVyeSk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24oalF1ZXJ5KSB7XG4vKlxuICogalF1ZXJ5IG1oZWFkIHYxLjAuMlxuICogQHJlcXVpcmVzIGpRdWVyeSAxLjcuMCBvciBsYXRlclxuICpcbiAqIG1tZW51LmZyZWJzaXRlLm5sL21oZWFkLXBsdWdpblxuICpcbiAqIENvcHlyaWdodCAoYykgRnJlZCBIZXVzc2NoZW5cbiAqIHd3dy5mcmVic2l0ZS5ubFxuICpcbiAqIExpY2Vuc2U6IENDLUJZLTQuMFxuICogaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnkvNC4wL1xuICovXG4hZnVuY3Rpb24odCl7ZnVuY3Rpb24gaSgpe3Rbbl0uZ2xibHx8KGE9eyR3bmR3OnQod2luZG93KSwkZG9jdTp0KGRvY3VtZW50KSwkaHRtbDp0KFwiaHRtbFwiKSwkYm9keTp0KFwiYm9keVwiKX0sbz17fSxyPXt9LGg9e30sdC5lYWNoKFtvLHIsaF0sZnVuY3Rpb24odCxpKXtpLmFkZD1mdW5jdGlvbih0KXt0PXQuc3BsaXQoXCIgXCIpO2Zvcih2YXIgbj0wLHM9dC5sZW5ndGg7bjxzO24rKylpW3Rbbl1dPWkubWgodFtuXSl9fSksby5taD1mdW5jdGlvbih0KXtyZXR1cm5cIm1oLVwiK3R9LG8uYWRkKFwiaGVhZCBzdGlja3kgc2Nyb2xsZWRvdXQgYWxpZ24gYnRucyBsaXN0IGhhbWJ1cmdlclwiKSxvLnVtaD1mdW5jdGlvbih0KXtyZXR1cm5cIm1oLVwiPT10LnNsaWNlKDAsMykmJih0PXQuc2xpY2UoMykpLHR9LHIubWg9ZnVuY3Rpb24odCl7cmV0dXJuXCJtaC1cIit0fSxoLm1oPWZ1bmN0aW9uKHQpe3JldHVybiB0K1wiLm1oXCJ9LGguYWRkKFwic2Nyb2xsIGNsaWNrXCIpLHRbbl0uX2M9byx0W25dLl9kPXIsdFtuXS5fZT1oLHRbbl0uZ2xibD1hKX12YXIgbj1cIm1oZWFkXCIscz1cIjEuMC4yXCI7aWYoISh0W25dJiZ0W25dLnZlcnNpb24+cykpe3Rbbl09ZnVuY3Rpb24odCxpLG4pe3JldHVybiB0aGlzLiRoZWFkPXQsdGhpcy5vcHRzPWksdGhpcy5jb25mPW4sdGhpcy5faW5pdEJ1dHRvbnMoKSx0aGlzLl9pbml0TGlzdCgpLHRoaXMuX2luaXRIYW1idXJnZXIoKSx0aGlzLl9pbml0U2Nyb2xsKCksdGhpc30sdFtuXS52ZXJzaW9uPXMsdFtuXS5kZWZhdWx0cz17c2Nyb2xsOntoaWRlOjAsc2hvdzowLHRvbGVyYW5jZTo0fSxoYW1idXJnZXI6e21lbnU6bnVsbCxhbmltYXRpb246XCJjb2xsYXBzZVwifX0sdFtuXS5jb25maWd1cmF0aW9uPXtpbml0QnV0dG9uczohMCxpbml0TGlzdDohMCxpbml0SGFtYnVyZ2VyOiEwLGluaXRTY3JvbGw6ITB9LHRbbl0ucHJvdG90eXBlPXtfaW5pdEJ1dHRvbnM6ZnVuY3Rpb24oKXtpZighdGhpcy5jb25mLmluaXRCdXR0b25zKXJldHVybiB0aGlzO3ZhciB0PSExLGk9e2xlZnQ6MCxyaWdodDowfSxuPTAscz0wO2Zvcih2YXIgciBpbiBpKXQ9dHx8dGhpcy4kaGVhZC5oYXNDbGFzcyhvLmFsaWduK1wiLVwiK3IpLChuPXRoaXMuJGhlYWQuY2hpbGRyZW4oXCIuXCIrby5idG5zK1wiLVwiK3IpLmNoaWxkcmVuKCkubGVuZ3RoKSYmKHM9TWF0aC5tYXgobixzKSxpW3JdPW4pO2lmKCF0KWZvcih2YXIgciBpbiBpKWlbcl09cztmb3IodmFyIHIgaW4gaSlpZihpW3JdKXt2YXIgaD1vLmJ0bnMrXCItXCIrcjtpW3JdPjEmJihoKz1cIi1cIitpW3JdKSx0aGlzLiRoZWFkLmFkZENsYXNzKGgpfXJldHVybiB0aGlzfSxfaW5pdExpc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25mLmluaXRMaXN0P3ZvaWQgdGhpcy4kaGVhZC5maW5kKFwiLlwiK28ubGlzdCkuZWFjaChmdW5jdGlvbigpe3QodGhpcykuY2hpbGRyZW4oKS5hcHBlbmRUbyh0aGlzKX0pOnRoaXN9LF9pbml0U2Nyb2xsOmZ1bmN0aW9uKCl7aWYoIXRoaXMuY29uZi5pbml0U2Nyb2xsKXJldHVybiB0aGlzO2lmKCF0aGlzLm9wdHMuc2Nyb2xsfHx0aGlzLm9wdHMuc2Nyb2xsLmhpZGU9PT0hMSlyZXR1cm4gdGhpczt0aGlzLiRoZWFkLmhhc0NsYXNzKG8uc3RpY2t5KXx8dGhpcy4kaGVhZC5hZGRDbGFzcyhvLnN0aWNreSk7dmFyIHQ9dGhpcyxpPTAsbj1udWxsLHM9dGhpcy4kaGVhZC5vZmZzZXQoKS50b3ArdGhpcy4kaGVhZC5vdXRlckhlaWdodCgpO3JldHVybiB0aGlzLm9wdHMuc2Nyb2xsLmhpZGU9TWF0aC5tYXgocyx0aGlzLm9wdHMuc2Nyb2xsLmhpZGV8fDApLHRoaXMub3B0cy5zY3JvbGwuc2hvdz1NYXRoLm1heChzLHRoaXMub3B0cy5zY3JvbGwuc2hvd3x8MCksYS4kd25kdy5vbihoLnNjcm9sbCxmdW5jdGlvbigpe3ZhciBzPWEuJHduZHcuc2Nyb2xsVG9wKCkscj1pLXMsaD1yPDA/XCJkb3duXCI6XCJ1cFwiO3I9TWF0aC5hYnMociksaT1zLG51bGw9PT1uJiYobj1zPnQub3B0cy5zY3JvbGwuc2hvdyksbj9cInVwXCI9PWgmJihzPHQub3B0cy5zY3JvbGwuc2hvd3x8cj50Lm9wdHMuc2Nyb2xsLnRvbGVyYW5jZSkmJihuPSExLHQuJGhlYWQucmVtb3ZlQ2xhc3Moby5zY3JvbGxlZG91dCkpOlwiZG93blwiPT1oJiZzPnQub3B0cy5zY3JvbGwuaGlkZSYmcj50Lm9wdHMuc2Nyb2xsLnRvbGVyYW5jZSYmKG49ITAsdC4kaGVhZC5hZGRDbGFzcyhvLnNjcm9sbGVkb3V0KSl9KS50cmlnZ2VyKGguc2Nyb2xsKSx0aGlzfSxfaW5pdEhhbWJ1cmdlcjpmdW5jdGlvbigpe2lmKCF0aGlzLmNvbmYuaW5pdEhhbWJ1cmdlcilyZXR1cm4gdGhpczt2YXIgaT10aGlzLiRoZWFkLmZpbmQoXCIuXCIrby5oYW1idXJnZXIpO2lmKGkubGVuZ3RoKXt2YXIgbj10aGlzO3JldHVybiBpLmVhY2goZnVuY3Rpb24oKXt2YXIgaT10KHRoaXMpLHM9dCgnPGJ1dHRvbiBjbGFzcz1cImhhbWJ1cmdlclwiPjxzcGFuIGNsYXNzPVwiaGFtYnVyZ2VyLWJveFwiPjxzcGFuIGNsYXNzPVwiaGFtYnVyZ2VyLWlubmVyXCI+PC9zcGFuPjwvc3Bhbj48L2J1dHRvbj4nKSxvPWkuYXR0cihcImhyZWZcIik7aS5yZXBsYWNlV2l0aChzKSxzLmFkZENsYXNzKFwiaGFtYnVyZ2VyLS1cIituLm9wdHMuaGFtYnVyZ2VyLmFuaW1hdGlvbik7Zm9yKHZhciByPXQoKSxhPVtvLG4ub3B0cy5oYW1idXJnZXIubWVudSxcIi5tbS1tZW51XCJdLGU9MDtlPGEubGVuZ3RoO2UrKylpZihhW2VdJiYocj10KGFbZV0pLHIubGVuZ3RoJiZyLmlzKFwiLm1tLW1lbnVcIikpKXtyPXIuZmlyc3QoKTticmVha312YXIgbD1yLmRhdGEoXCJtbWVudVwiKTtzLm9uKGguY2xpY2ssZnVuY3Rpb24oKXtsLm9wZW4oKX0pLGwuYmluZChcIm9wZW46ZmluaXNoXCIsZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cy5hZGRDbGFzcyhcImlzLWFjdGl2ZVwiKX0sMTAwKX0pLGwuYmluZChcImNsb3NlOmZpbmlzaFwiLGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe3MucmVtb3ZlQ2xhc3MoXCJpcy1hY3RpdmVcIil9LDEwMCl9KX0pLHRoaXN9fX0sdC5mbltuXT1mdW5jdGlvbihzLG8pe3JldHVybiBpKCkscz10LmV4dGVuZCghMCx7fSx0W25dLmRlZmF1bHRzLHMpLG89dC5leHRlbmQoITAse30sdFtuXS5jb25maWd1cmF0aW9uLG8pLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpPXQodGhpcyk7aWYoIWkuZGF0YShuKSl7dmFyIHI9bmV3IHRbbl0oaSxzLG8pO2kuZGF0YShuLHIpfX0pfSx0W25dLnN1cHBvcnQ9e3RvdWNoOlwib250b3VjaHN0YXJ0XCJpbiB3aW5kb3d8fG5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzfHwhMX07dmFyIG8scixoLGF9fShqUXVlcnkpO1xucmV0dXJuIHRydWU7XG59KSk7XG4iXX0=
